function makeGUI(gui)
% Syntax:
%
% makeGUI(gui)
%
% Description:
%
% Part of DAG.
% 
% Written by Henrik Halvorsen Hortemo

% Copyright (c) 2021, Kenneth Sæterhagen Paulsen

    % Get the handle to the main program
    mainGUI = gui.parent;
    
    figName = 'Random Data Generator';
    
    % Create window
    if isa(mainGUI,'nb_GUI')
        name = [mainGUI.guiName ': ' figName];
    else
        name = figName;
    end

    % Create GUI window
    currentMonitor    = nb_getCurrentMonitor();
    defaultBackground = get(0,'defaultUicontrolBackgroundColor');
    main = figure('visible',        'off',...
                  'units',          'characters',...
                  'position',       [40   15  70   17],...
                  'Color',          defaultBackground,...
                  'name',           name,...
                  'numberTitle',    'off',...
                  'dockControls',   'off',...
                  'menuBar',        'None',...
                  'toolBar',        'None',...
                  'tag',            'main',...
                  'windowStyle',    'modal');
    nb_moveFigureToMonitor(main,currentMonitor,'center');
    gui.figureHandle = main;
    
    startPopX = 0.5;
    widthPop  = 0.2;
    heightPop = 0.09;
    startTX   = 0.04;
    widthT    = startPopX - startTX*2;
    heightT   = 0.06;
    kk        = 6;
    spaceYPop = (1 - heightPop*kk)/(kk + 1);
    extra     = (heightPop - heightT)/2;
    
    if isa(gui.data, 'nb_ts') || isa(gui.data, 'nb_data')
        
        % Start date
        %----------------------------------------------------------
        uicontrol(...
              'units',                  'normalized',...
              'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
              'parent',                 main,...
              'style',                  'text',...
              'horizontalAlignment',    'left',...
              'string',                 'Start Period');
        
        gui.startBox = uicontrol(...
              'units',                  'normalized',...
              'position',               [startPopX, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
              'parent',                 main,...
              'background',             [1 1 1],...
              'Interruptible',          'off',...
              'horizontalAlignment',    'right',...
              'style',                  'edit',...
              'string',                 '1'); 
          
        % Number of Observations
        %----------------------------------------------------------
        kk = kk - 1;
        uicontrol('units',                  'normalized',...
                  'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
                  'parent',                 main,...
                  'style',                  'text',...
                  'horizontalAlignment',    'left',...
                  'string',                 'Number Of Observations');

        gui.numOfObsBox = uicontrol(...
                  'units',                  'normalized',...
                  'position',               [startPopX, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
                  'parent',                 main,...
                  'background',             [1 1 1],...
                  'Interruptible',          'off',...
                  'horizontalAlignment',    'right',...
                  'style',                  'edit',...
                  'string',                 '10');
              
    else
        
        if isa(gui.data, 'nb_cell')
            string = 'Number of Rows';
        else
            string = 'Number of Types';
        end
        
        % Number of Types
        %----------------------------------------------------------
        uicontrol('units',                  'normalized',...
                  'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
                  'parent',                 main,...
                  'style',                  'text',...
                  'horizontalAlignment',    'left',...
                  'string',                 string);

        gui.numOfTypesBox = uicontrol(...
                  'units',                  'normalized',...
                  'position',               [startPopX, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
                  'parent',                 main,...
                  'background',             [1 1 1],...
                  'Interruptible',          'off',...
                  'horizontalAlignment',    'right',...
                  'style',                  'edit',...
                  'string',                 '10');  
          
    end
    
    if isa(gui.data, 'nb_cell')
        string = 'Number of Columns';
    else
        string = 'Number of Variables';
    end
    
    % Number of Variables
    %--------------------------------------------------------------
    kk = kk - 1;
    uicontrol('units',                  'normalized',...
              'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
              'parent',                 main,...
              'style',                  'text',...
              'horizontalAlignment',    'left',...
              'string',                 string);

    gui.numOfVarsBox = uicontrol(...
              'units',                  'normalized',...
              'position',               [startPopX, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
              'parent',                 main,...
              'background',             [1 1 1],...
              'Interruptible',          'off',...
              'horizontalAlignment',    'right',...
              'style',                  'edit',...
              'string',                 '5');  
    
    % Number of Pages
    %--------------------------------------------------------------
    kk = kk - 1;
    uicontrol('units',                  'normalized',...
              'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
              'parent',                 main,...
              'style',                  'text',...
              'horizontalAlignment',    'left',...
              'string',                 'Number of Pages');

    gui.numOfPagesBox = uicontrol(...
              'units',                  'normalized',...
              'position',               [startPopX, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
              'parent',                 main,...
              'background',             [1 1 1],...
              'Interruptible',          'off',...
              'horizontalAlignment',    'right',...
              'style',                  'edit',...
              'string',                 '1');
          
    % Distribution
    %--------------------------------------------------------------
    kk = kk - 1;
    uicontrol('units',                  'normalized',...
              'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
              'parent',                 main,...
              'style',                  'text',...
              'horizontalAlignment',    'left',...
              'string',                 'Distribution');
          
    gui.distributionNameUI = uicontrol(...
              'units',                  'normalized',...
              'position',               [startPopX, heightPop*(kk-1) + spaceYPop*kk + extra, widthPop, heightT],...
              'parent',                 main,...
              'horizontalAlignment',    'right',...
              'style',                  'text',...
              'string',                 gui.distribution.name);
          
    uicontrol(...
              'units',                  'normalized',...
              'position',               [startPopX + widthPop + 0.03, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
              'parent',                 main,...
              'Interruptible',          'off',...
              'horizontalAlignment',    'right',...
              'style',                  'pushbutton',...
              'string',                 'Edit...',...
              'callback',               @gui.selectDistributionCallback);
          
    % Create button      
    %-------------------------------------------------------------- 
    buttonHeight = 0.1;
    buttonWidth  = 0.2;
    buttonXLoc   = 0.5 - buttonWidth/2;
    buttonYLoc   = (heightPop*(kk-1) + spaceYPop*kk)/2 - buttonHeight/2;
    
    uicontrol(...
              'units',              'normalized',...
              'position',           [buttonXLoc, buttonYLoc, buttonWidth, buttonHeight],...
              'parent',             main,...
              'style',              'pushbutton',...
              'Interruptible',      'off',...
              'horizontalAlignment','left',...
              'string',             'Create',...
              'callback',           @gui.generateDataCallback);
    
    % Make GUI visible
    %--------------------------------------------------------------
    set(main,'visible','on');
end
