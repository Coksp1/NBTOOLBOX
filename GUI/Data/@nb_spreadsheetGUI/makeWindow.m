function makeWindow(gui)
% Syntax:
%
% makeWindow(gui)
%
% Description:
%
% Part of DAG. Make GUI figure.
% 
% Written by Kenneth Sæterhagen Paulsen

% Copyright (c) 2021, Kenneth Sæterhagen Paulsen

    % Create the main window
    %------------------------------------------------------
    main = nb_guiFigure(gui.parent,gui.figureName,[40,15,186.4,43],'normal','on',@gui.close);
    set(main,'tag','main');
    gui.figureHandle = main;

    % Create an empty table
    %--------------------------------------------------------------
    createTable(gui);
    
    % Add a box to show the name of the current dataset (if there are more
    % than one dataset). 
    %-------------------------------------------------------------
    
    cMenu = uicontextmenu('parent',main);
        uimenu(cMenu,'Label','Hide','Callback',@gui.hidePageBox);
        
    gui.oldString = cell(3,1);
    
    gui.pageBox = uicontrol(main,nb_constant.EDIT,...   
    'uicontextmenu',        cMenu,...
    'string',               'DatabaseName',...
    'keypressfcn',          {@nb_lockEditBox,gui.oldString{1}},...
    'position',             [0.45 0.0075 0.50 0.035],...
    'HorizontalAlignment',  'center');
    
    uicontrol(main,nb_constant.LABEL,...   
    'uicontextmenu', cMenu,...
    'string',        'Number of observations:',...
    'position',      [0.02 0.015 0.13 0.02]);

    gui.numObsBox = uicontrol(main,nb_constant.EDIT,...   
    'uicontextmenu', cMenu,...
    'string',        'NumObs',...
    'keypressfcn',   {@nb_lockEditBox,gui.oldString{2}},...
    'position',      [0.13 0.0075 0.10 0.035]);

    % Moment box
    options  = {'Avg:','Sum:','STD:','Var:','Min:','Max:','Med:','Obs:'};
    userData = {'mean','sum','std','var','min','max','median','numel'};
    gui.momentTypeBox = uicontrol(main,nb_constant.POPUP,... 
    'uicontextmenu', cMenu,...
    'string',        options,...
    'value',         1,...
    'userData',      userData,...
    'position',      [0.25, 0.025, 0.05, 0.02],...
    'callback',      @gui.changeMomentCallback);

    gui.momentBox = uicontrol(main,nb_constant.EDIT,...   
    'uicontextmenu', cMenu,...
    'string',        '',...
    'keypressfcn',   {@nb_lockEditBox,gui.oldString{2}},...
    'position',      [0.31 0.0075 0.10 0.035]);

    % Make the GUI visible.
    %--------------------------------------------------------------
    set(main,'Visible','on');

end
