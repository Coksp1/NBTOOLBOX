function exportDistributionGUI(gui,~,~)
% Syntax:
%
% exportDistributionGUI(gui,hObject,event)
%
% Description:
%
% Part of DAG.
% 
% Written by Henrik Halvorsen Hortemo and Kenneth Sæterhagen Paulsen

% Copyright (c) 2021, Kenneth Sæterhagen Paulsen

    % Figure
    currentMonitor    = nb_getCurrentMonitor();
    defaultBackground = get(0, 'defaultUicontrolBackgroundColor');
    gui.figureHandle2 = figure(...
        'visible',        'off',...
        'units',          'characters',...
        'position',       [40   15  40   15],...
        'Color',          defaultBackground,...
        'name',           'Select distributions to export',...
        'numberTitle',    'off',...
        'menuBar',        'None',...
        'windowStyle',    'modal',...
        'toolBar',        'None',...
        'resize',         'on');          
    nb_moveFigureToMonitor(gui.figureHandle2, currentMonitor, 'center');

    % Location
    startTX    = 0.04;
    startPopX  = 0.35;
    widthPop   = 0.55;
    heightPop  = 0.09;
    widthT     = startPopX - startTX*2;
    heightT    = 0.08;
    kk         = 3; 
    spaceYPop  = (1 - heightPop*kk)/(kk + 1);
    extra      = -(heightPop - heightT);
    
    % Date
    uicontrol(...
              'units',                  'normalized',...
              'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
              'parent',                 gui.figureHandle2,...
              'style',                  'text',...
              'horizontalAlignment',    'left',...
              'string',                 'Date');

    gui.datePopMenu = uicontrol(...
          'units',          'normalized',...
          'position',       [startPopX, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
          'parent',         gui.figureHandle2,...
          'background',     [1 1 1],...
          'style',          'popupmenu',...
          'string',         gui.dates,...
          'value',          1);
    
    % Variable
    kk = kk - 1;
    uicontrol(...
              'units',                  'normalized',...
              'position',               [startTX, heightPop*(kk-1) + spaceYPop*kk + extra, widthT, heightT],...
              'parent',                 gui.figureHandle2,...
              'style',                  'text',...
              'horizontalAlignment',    'left',...
              'string',                 'Variable');

    gui.variablePopMenu = uicontrol(...
          'units',          'normalized',...
          'position',       [startPopX, heightPop*(kk-1) + spaceYPop*kk, widthPop, heightPop],...
          'parent',         gui.figureHandle2,...
          'background',     [1 1 1],...
          'style',          'popupmenu',...
          'string',         gui.variables,...
          'value',          1);  
      
    % Export distribution  
    uicontrol(...
          'units',          'normalized',...
          'position',       [0.5 - 0.1, 0.1, 0.3, 0.12],...
          'parent',         gui.figureHandle2,...
          'style',          'pushbutton',...
          'Interruptible',  'off',...
          'string',         'Export',...
          'callback',       @gui.exportDistributionCallback); 
        
    % Make GUI
    set(gui.figureHandle2,'visible','on')

end
